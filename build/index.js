(()=>{"use strict";var e,p={888:()=>{const e=window.wp.blocks,p=window.wp.i18n,t=window.wp.blockEditor,o=window.wp.components,l=window.wp.element,i=window.ReactJSXRuntime,a=JSON.parse('{"UU":"telex/block-poppit"}');(0,e.registerBlockType)(a.UU,{edit:function({attributes:e,setAttributes:a}){const{popupType:n,title:s,content:r,triggerType:c,triggerDelay:d,scrollDepth:_,exitIntent:h,showCloseButton:u,overlayOpacity:g,emailEnabled:b,emailPlaceholder:x,buttonText:v,targeting:m,animation:j,width:C,height:y,position:w,allowReset:T,resetDelay:f}=e,[k,B]=(0,l.useState)(!1);(0,l.useEffect)(()=>{e.popupId||a({popupId:"popup-"+Math.random().toString(36).substr(2,9)})},[]);const O=(0,t.useBlockProps)({className:`poppit-block popup-type-${n} position-${w}`,style:{"--popup-width":C,"--popup-height":y,"--overlay-opacity":g}}),N=[{label:(0,p.__)("Modal/Lightbox","poppit"),value:"modal"},{label:(0,p.__)("Slide In","poppit"),value:"slide"},{label:(0,p.__)("Top Bar","poppit"),value:"topbar"},{label:(0,p.__)("Bottom Bar","poppit"),value:"bottombar"},{label:(0,p.__)("Full Screen","poppit"),value:"fullscreen"}],S=[{label:(0,p.__)("Time Based","poppit"),value:"time"},{label:(0,p.__)("Scroll Depth","poppit"),value:"scroll"},{label:(0,p.__)("Exit Intent","poppit"),value:"exit"},{label:(0,p.__)("Page Load","poppit"),value:"load"},{label:(0,p.__)("Manual Trigger","poppit"),value:"manual"}],E=[{label:(0,p.__)("Fade In","poppit"),value:"fadeIn"},{label:(0,p.__)("Slide Down","poppit"),value:"slideDown"},{label:(0,p.__)("Slide Up","poppit"),value:"slideUp"},{label:(0,p.__)("Zoom In","poppit"),value:"zoomIn"},{label:(0,p.__)("Bounce In","poppit"),value:"bounceIn"}],P=[{label:(0,p.__)("Center","poppit"),value:"center"},{label:(0,p.__)("Top Left","poppit"),value:"top-left"},{label:(0,p.__)("Top Right","poppit"),value:"top-right"},{label:(0,p.__)("Bottom Left","poppit"),value:"bottom-left"},{label:(0,p.__)("Bottom Right","poppit"),value:"bottom-right"}],R=()=>(0,i.jsx)("div",{className:"poppit-preview",children:(0,i.jsx)("div",{className:"popup-overlay",style:{opacity:g},children:(0,i.jsxs)("div",{className:`popup-container popup-${n} animation-${j}`,children:[u&&(0,i.jsx)("button",{className:"popup-close","aria-label":(0,p.__)("Close","poppit"),children:"×"}),(0,i.jsxs)("div",{className:"popup-content",children:[(0,i.jsx)(t.RichText,{tagName:"h3",className:"popup-title",value:s,onChange:e=>a({title:e}),placeholder:(0,p.__)("Enter popup title...","poppit")}),(0,i.jsx)(t.RichText,{tagName:"div",className:"popup-text",value:r,onChange:e=>a({content:e}),placeholder:(0,p.__)("Enter popup content...","poppit")}),b&&(0,i.jsxs)("div",{className:"popup-email-form",children:[(0,i.jsx)("input",{type:"email",placeholder:x,className:"popup-email-input"}),(0,i.jsx)("button",{className:"popup-submit-btn",children:v})]})]})]})})});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.BlockControls,{children:(0,i.jsx)(o.ToolbarGroup,{children:(0,i.jsx)(o.ToolbarButton,{label:k?(0,p.__)("Edit Mode","poppit"):(0,p.__)("Preview Mode","poppit"),onClick:()=>B(!k),isPressed:k,children:k?"⚙️":"👁️"})})}),(0,i.jsxs)(t.InspectorControls,{children:[(0,i.jsxs)(o.PanelBody,{title:(0,p.__)("Pop-up Settings","poppit"),initialOpen:!0,children:[(0,i.jsx)(o.SelectControl,{label:(0,p.__)("Pop-up Type","poppit"),value:n,options:N,onChange:e=>a({popupType:e})}),(0,i.jsx)(o.SelectControl,{label:(0,p.__)("Animation","poppit"),value:j,options:E,onChange:e=>a({animation:e})}),"modal"===n&&(0,i.jsx)(o.SelectControl,{label:(0,p.__)("Position","poppit"),value:w,options:P,onChange:e=>a({position:e})}),(0,i.jsx)(o.TextControl,{label:(0,p.__)("Width","poppit"),value:C,onChange:e=>a({width:e}),help:(0,p.__)("e.g., 500px, 80%, auto","poppit")}),(0,i.jsx)(o.ToggleControl,{label:(0,p.__)("Show Close Button","poppit"),checked:u,onChange:e=>a({showCloseButton:e})}),(0,i.jsx)(o.RangeControl,{label:(0,p.__)("Overlay Opacity","poppit"),value:g,onChange:e=>a({overlayOpacity:e}),min:0,max:1,step:.1})]}),(0,i.jsxs)(o.PanelBody,{title:(0,p.__)("Trigger Settings","poppit"),initialOpen:!1,children:[(0,i.jsx)(o.SelectControl,{label:(0,p.__)("Trigger Type","poppit"),value:c,options:S,onChange:e=>a({triggerType:e})}),"time"===c&&(0,i.jsx)(o.RangeControl,{label:(0,p.__)("Delay (seconds)","poppit"),value:d,onChange:e=>a({triggerDelay:e}),min:0,max:60,step:1}),"scroll"===c&&(0,i.jsx)(o.RangeControl,{label:(0,p.__)("Scroll Depth (%)","poppit"),value:_,onChange:e=>a({scrollDepth:e}),min:0,max:100,step:5}),"exit"===c&&(0,i.jsx)(o.ToggleControl,{label:(0,p.__)("Enable Exit Intent","poppit"),checked:h,onChange:e=>a({exitIntent:e}),help:(0,p.__)("Show popup when user moves cursor to leave the page","poppit")})]}),(0,i.jsxs)(o.PanelBody,{title:(0,p.__)("Reset Behavior","poppit"),initialOpen:!1,children:[(0,i.jsx)(o.ToggleControl,{label:(0,p.__)("Allow Reset","poppit"),checked:T,onChange:e=>a({allowReset:e}),help:(0,p.__)("Allow the popup to be shown again after a specified delay","poppit")}),T&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.RangeControl,{label:(0,p.__)("Reset Delay (minutes)","poppit"),value:f||60,onChange:e=>a({resetDelay:e}),min:1,max:1440,step:1,help:(0,p.__)("Time in minutes before the popup can be shown again","poppit")}),(0,i.jsxs)("div",{style:{marginTop:"15px",padding:"12px",backgroundColor:"#f0f6fc",border:"1px solid #c3e4f7",borderRadius:"4px",fontSize:"13px"},children:[(0,i.jsx)("strong",{children:(0,p.__)("Testing Options:","poppit")}),(0,i.jsx)("p",{style:{margin:"5px 0 0 0",lineHeight:"1.4"},children:(0,p.__)("Add ?poppit-test=1 to your URL to ignore all display restrictions for testing.","poppit")})]})]})]}),(0,i.jsxs)(o.PanelBody,{title:(0,p.__)("Email Integration","poppit"),initialOpen:!1,children:[(0,i.jsx)(o.ToggleControl,{label:(0,p.__)("Enable Email Collection","poppit"),checked:b,onChange:e=>a({emailEnabled:e})}),b&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.TextControl,{label:(0,p.__)("Email Placeholder","poppit"),value:x,onChange:e=>a({emailPlaceholder:e})}),(0,i.jsx)(o.TextControl,{label:(0,p.__)("Button Text","poppit"),value:v,onChange:e=>a({buttonText:e})})]})]}),(0,i.jsxs)(o.PanelBody,{title:(0,p.__)("Targeting Options","poppit"),initialOpen:!1,children:[(0,i.jsx)("h4",{children:(0,p.__)("Device Targeting","poppit")}),(0,i.jsx)(o.CheckboxControl,{label:(0,p.__)("Desktop","poppit"),checked:m.devices.includes("desktop"),onChange:e=>{const p=e?[...m.devices,"desktop"]:m.devices.filter(e=>"desktop"!==e);a({targeting:{...m,devices:p}})}}),(0,i.jsx)(o.CheckboxControl,{label:(0,p.__)("Tablet","poppit"),checked:m.devices.includes("tablet"),onChange:e=>{const p=e?[...m.devices,"tablet"]:m.devices.filter(e=>"tablet"!==e);a({targeting:{...m,devices:p}})}}),(0,i.jsx)(o.CheckboxControl,{label:(0,p.__)("Mobile","poppit"),checked:m.devices.includes("mobile"),onChange:e=>{const p=e?[...m.devices,"mobile"]:m.devices.filter(e=>"mobile"!==e);a({targeting:{...m,devices:p}})}}),(0,i.jsx)(o.SelectControl,{label:(0,p.__)("User Type","poppit"),value:m.userType,options:[{label:(0,p.__)("All Visitors","poppit"),value:"all"},{label:(0,p.__)("New Visitors","poppit"),value:"new"},{label:(0,p.__)("Returning Visitors","poppit"),value:"returning"}],onChange:e=>a({targeting:{...m,userType:e}})})]}),(0,i.jsxs)(o.PanelBody,{title:(0,p.__)("More Blocks by iconick","poppit"),initialOpen:!1,children:[(0,i.jsx)("p",{children:(0,p.__)("Think these ideas are wild? You ain't seen nothing yet.","poppit")}),(0,i.jsx)(o.ExternalLink,{href:"https://iconick.io/blocks/",children:(0,p.__)("Click to enter the block wonderland","poppit")})]})]}),(0,i.jsx)("div",{...O,children:k?R():(0,i.jsxs)("div",{className:"poppit-editor",children:[(0,i.jsxs)("div",{className:"poppit-header",children:[(0,i.jsx)("h4",{children:(0,p.__)("Poppit","poppit")}),(0,i.jsxs)("div",{className:"poppit-meta",children:[(0,i.jsx)("span",{className:"popup-type-badge",children:n.toUpperCase()}),(0,i.jsxs)("span",{className:"trigger-type-badge",children:["time"===c&&(0,p.__)(`After ${d}s`,"poppit"),"scroll"===c&&(0,p.__)(`At ${_}%`,"poppit"),"exit"===c&&(0,p.__)("Exit Intent","poppit"),"load"===c&&(0,p.__)("Page Load","poppit"),"manual"===c&&(0,p.__)("Manual","poppit")]}),T&&(0,i.jsx)("span",{className:"reset-badge",children:(0,p.__)("RESETS","poppit")})]})]}),(0,i.jsx)("div",{className:"poppit-preview-container",children:R()})]})})]})}})}},t={};function o(e){var l=t[e];if(void 0!==l)return l.exports;var i=t[e]={exports:{}};return p[e](i,i.exports,o),i.exports}o.m=p,e=[],o.O=(p,t,l,i)=>{if(!t){var a=1/0;for(c=0;c<e.length;c++){for(var[t,l,i]=e[c],n=!0,s=0;s<t.length;s++)(!1&i||a>=i)&&Object.keys(o.O).every(e=>o.O[e](t[s]))?t.splice(s--,1):(n=!1,i<a&&(a=i));if(n){e.splice(c--,1);var r=l();void 0!==r&&(p=r)}}return p}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[t,l,i]},o.o=(e,p)=>Object.prototype.hasOwnProperty.call(e,p),(()=>{var e={57:0,350:0};o.O.j=p=>0===e[p];var p=(p,t)=>{var l,i,[a,n,s]=t,r=0;if(a.some(p=>0!==e[p])){for(l in n)o.o(n,l)&&(o.m[l]=n[l]);if(s)var c=s(o)}for(p&&p(t);r<a.length;r++)i=a[r],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(c)},t=globalThis.webpackChunkpoppit=globalThis.webpackChunkpoppit||[];t.forEach(p.bind(null,0)),t.push=p.bind(null,t.push.bind(t))})();var l=o.O(void 0,[350],()=>o(888));l=o.O(l)})();